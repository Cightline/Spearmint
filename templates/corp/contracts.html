{% include 'header.html' %}
{% include 'datatables.html' %}

<script type="text/javascript">
$(document).ready( function() {
      $('#table').dataTable( { "iDisplayLength": 100 } ); } )
</script>

<div class="container-fluid">

<div class="row">
    <div class="col-md-12">
            {# We just need one "date" #}
            <table class="table table-striped table-bordered" cellspacing="0" width="100%" id="table">
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Issued</th>
                        <th>Issuer Corp</th>
                        <th>Acceptor</th>
                        <th>Price</th>
                        <th>Type</th>
                        <th>Reward</th>
                        <th>Days</th>
                        <th>Status</th>
                        <th>Completed</th>
                    </tr>
                        
                </thead>
                <tbody>

                {% for row in contracts %}
                    <tr>
                        {# key is the price, the value is the item name #}
                        {% if contracts[row]['title'] %}
                            <td class="text-left"> {{ contracts[row]['title'] }}        </td>
                        {% else %}
                            <td class="text-left"> N\A                                  </td>
                        {% endif %}
                        <td class="text-left"> {{ contracts[row]['issued']|format_time }}        </td>
                        <td class="text-left"> {{ contracts[row]['issuer_corp']|corp_name_from_character_id }}        </td>
                        <td class="text-left"> {{ contracts[row]['acceptor']|character_name_from_id }}        </td>
                        <td class="text-left"> {{ contracts[row]['price']|format_currency }}        </td>
                        <td class="text-left"> {{ contracts[row]['type'] }}        </td>
                        <td class="text-left"> {{ contracts[row]['reward'] }}        </td>
                        <td class="text-left"> {{ contracts[row]['days'] }}        </td>
                        <td class="text-left"> {{ contracts[row]['status'] }}        </td>
                        <td class="text-left"> {{ contracts[row]['completed']|format_time }}        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
